!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{mycG:function(n,o,i){"use strict";i.r(o),i.d(o,"InventoryModule",function(){return ne});var c,a,r,s,p,l=i("ofXK"),d=i("tyNb"),m=i("R0Ic"),g=i("jtHE"),b=i("2Vo4"),u=i("/uUt"),k=i("wO+i"),f=i("1G5W"),h=i("eIep"),O=i("lJxs"),v=i("vkgz"),C=i("v8Ou"),y=i("fXoL"),P=i("l7P3"),_=i("IzEk"),M=i("tk/3"),w=((a=function(){function n(t){e(this,n),this.http=t}return t(n,[{key:"getPokemonList",value:function(e){return this.http.get(e)}},{key:"getPokemonDetail",value:function(e){return this.http.get(e)}}]),n}()).\u0275fac=function(e){return new(e||a)(y.Xb(M.b))},a.\u0275prov=y.Jb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),x=((c=function(){function n(t,o){e(this,n),this.inventoryHttpService=t,this.store=o}return t(n,[{key:"callPokemonList",value:function(e){var n=this;this.inventoryHttpService.getPokemonList(e).pipe(Object(u.a)(),Object(k.a)("pokemon_entries"),Object(v.a)(function(e){return n.store.dispatch(C.c({inventory:e}))}),Object(_.a)(1)).subscribe(function(e){return console.log("[SERVICE] Call pokemon list")})}},{key:"callPokemonDetail",value:function(e){var n=this;this.inventoryHttpService.getPokemonDetail(e).pipe(Object(u.a)(),Object(v.a)(function(e){return n.store.dispatch(C.b({pokemon:e}))}),Object(v.a)(function(e){return localStorage.setItem("pokemon",JSON.stringify(e))}),Object(_.a)(1)).subscribe(function(e){return console.log("[SERVICE] Call pokemon detail")})}}]),n}()).\u0275fac=function(e){return new(e||c)(y.Xb(w),y.Xb(P.h))},c.\u0275prov=y.Jb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),S=i("Y58K"),j=i("XiUz"),I=i("bTqV"),L=((r=function(){function n(){e(this,n)}return t(n,[{key:"ngOnInit",value:function(){this.region.name.split("-")[1]?(this.name=this.region.name.split("-")[1],"central"===this.region.name.split("-")[1]&&(this.name=this.region.name.split("-")[0])):this.name=this.region.name}}]),n}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=y.Hb({type:r,selectors:[["app-region-card"]],inputs:{region:"region",isSelected:"isSelected"},decls:5,vars:7,consts:[["mat-button","",1,"region-card"],[1,"region-container"],[1,"region-background"],[1,"region-name"]],template:function(e,n){1&e&&(y.Tb(0,"button",0),y.Tb(1,"div",1),y.Ob(2,"div",2),y.Sb(),y.Sb(),y.Tb(3,"p",3),y.Ac(4),y.Sb()),2&e&&(y.Fb("mat-elevation-z4",n.isSelected),y.Cb(2),y.vc("background-image","url("+n.region.image+")"),y.Cb(1),y.Fb("region-selected",n.isSelected),y.Cb(1),y.Bc(n.name))},directives:[I.a],styles:[".region-card[_ngcontent-%COMP%]{height:7.5rem;width:7.5rem;margin:0 1em;border-radius:50%;padding:0;overflow:hidden;transition:.5s;border:inset #8b0000}.region-card[_ngcontent-%COMP%]   .region-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.region-card[_ngcontent-%COMP%]   .region-container[_ngcontent-%COMP%]   .region-background[_ngcontent-%COMP%]{height:100%;width:100%;background-position:50%;background-size:cover;background-origin:content-box;background-repeat:no-repeat}.region-name[_ngcontent-%COMP%]{text-transform:capitalize;color:grey;font-size:large;overflow:hidden;text-overflow:ellipsis;text-align:center}.region-selected[_ngcontent-%COMP%]{font-weight:600}@media only screen and (max-width:1024px){.region-card[_ngcontent-%COMP%]{width:5rem;height:5rem;padding:0}.region-name[_ngcontent-%COMP%]{font-size:80%!important}}@media only screen and (max-width:600px){.region-card[_ngcontent-%COMP%]{width:5rem;height:5rem;padding:0}}"]}),r),z=i("zkoq"),T=((s=function(){function n(t){e(this,n),this.el=t,this.srcAttr=null}return t(n,[{key:"ngAfterViewInit",value:function(){this.canLazyLoad()?this.lazyLoadImage():this.loadImage()}},{key:"canLazyLoad",value:function(){return window&&"IntersectionObserver"in window}},{key:"lazyLoadImage",value:function(){var e=this,n=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(e.loadImage(),n.unobserve(e.el.nativeElement))})});n.observe(this.el.nativeElement)}},{key:"loadImage",value:function(){this.srcAttr=this.src}}]),n}()).\u0275fac=function(e){return new(e||s)(y.Nb(y.l))},s.\u0275dir=y.Ib({type:s,selectors:[["img","appLazyLoadImage",""]],hostVars:1,hostBindings:function(e,n){2&e&&y.Db("src",n.srcAttr,y.tc)},inputs:{src:"src"}}),s),$=function(e,n){return[e,n]},A=((p=function(){function n(t,o){e(this,n),this.router=t,this.inventoryservice=o}return t(n,[{key:"goPokemonDetail",value:function(e){var n=e.pokemon_species.url;this.inventoryservice.callPokemonDetail(n.includes("pokemon-species")?n.replace("pokemon-species","pokemon"):n),this.router.navigate(["/inventory/"+e.entry_number])}},{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(e){return new(e||p)(y.Nb(d.a),y.Nb(x))},p.\u0275cmp=y.Hb({type:p,selectors:[["app-pokemon-card"]],inputs:{pokemon:"pokemon"},decls:5,vars:7,consts:[["mat-button","","routerLinkActive","router-link-active",1,"pokemon-card",3,"routerLink","click"],[1,"pokemon-container"],["appLazyLoadImage","",1,"pokemon-background",3,"src"],[1,"pokemon-name"]],template:function(e,n){1&e&&(y.Tb(0,"button",0),y.bc("click",function(){return n.goPokemonDetail(n.pokemon)}),y.Tb(1,"div",1),y.Ob(2,"img",2),y.Tb(3,"p",3),y.Ac(4),y.Sb(),y.Sb(),y.Sb()),2&e&&(y.kc("routerLink",y.nc(4,$,n.pokemon.entry_number,n.pokemon.pokemon_species.url)),y.Cb(2),y.kc("src","https://img.pokemondb.net/artwork/"+n.pokemon.pokemon_species.name+".jpg",y.tc),y.Cb(2),y.Dc("#",n.pokemon.entry_number," ",n.pokemon.pokemon_species.name,""))},directives:[I.a,d.c,d.b,T],styles:[".pokemon-card[_ngcontent-%COMP%]{width:10rem;height:200px;transition:transform .2s}.pokemon-card[_ngcontent-%COMP%]   .pokemon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.pokemon-card[_ngcontent-%COMP%]   .pokemon-container[_ngcontent-%COMP%]   .pokemon-background[_ngcontent-%COMP%]{height:100%;width:100%;max-height:150px;max-width:125px;-o-object-fit:contain;object-fit:contain}.pokemon-card[_ngcontent-%COMP%]   .pokemon-container[_ngcontent-%COMP%]   .pokemon-name[_ngcontent-%COMP%]{text-transform:capitalize;color:grey;font-size:large;overflow:hidden;text-overflow:ellipsis}.pokemon-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media only screen and (max-width:600px){.pokemon-card[_ngcontent-%COMP%]{width:auto;height:auto}.pokemon-card[_ngcontent-%COMP%]   .pokemon-name[_ngcontent-%COMP%]{font-size:100%!important}}"]}),p);function N(e,n){if(1&e){var t=y.Ub();y.Tb(0,"app-region-card",7),y.bc("click",function(){y.sc(t);var e=y.fc(2).$implicit;return y.fc(2).goRegion(e)}),y.Sb()}if(2&e){var o=y.fc().ngIf,i=y.fc().$implicit;y.kc("region",i)("isSelected",o.name===i.name)}}function R(e,n){if(1&e&&(y.Tb(0,"div"),y.yc(1,N,1,2,"app-region-card",6),y.Sb()),2&e){var t=y.fc().$implicit;y.Cb(1),y.kc("ngIf",t.image)}}function D(e,n){if(1&e&&(y.Tb(0,"div"),y.yc(1,R,2,1,"div",5),y.gc(2,"async"),y.Sb()),2&e){var t=y.fc(2);y.Cb(1),y.kc("ngIf",y.hc(2,1,t.regionSelected$))}}function E(e,n){if(1&e&&(y.Tb(0,"div",3),y.yc(1,D,3,3,"div",4),y.Sb()),2&e){var t=n.ngIf;y.Cb(1),y.kc("ngForOf",t.results)}}function F(e,n){if(1&e&&(y.Tb(0,"mat-grid-tile"),y.Ob(1,"app-pokemon-card",9),y.Sb()),2&e){var t=n.$implicit;y.kc("@items",void 0),y.Cb(1),y.kc("pokemon",t)}}function H(e,n){if(1&e&&(y.Tb(0,"mat-grid-list",8),y.yc(1,F,2,2,"mat-grid-tile",4),y.Sb()),2&e){var t=n.ngIf,o=y.fc();y.kc("@list",void 0)("cols",o.listColumns),y.Cb(1),y.kc("ngForOf",t)}}var J,B=((J=function(){function n(t,o,i){e(this,n),this.store=t,this.inventoryService=o,this.regionService=i,this.destroy$=new g.a(1),this.pokemonFilterSubject$=new b.a(null)}return t(n,[{key:"onResize",value:function(e){this.changeColumnsList(e.target.innerWidth)}},{key:"goRegion",value:function(e){this.regionService.selectRegion(e),this.store.dispatch(C.k())}},{key:"changeColumnsList",value:function(e){this.listColumns=e<=600?1:e<=768?4:e<=1024?5:e<=1440?6:9}},{key:"ngOnInit",value:function(){var e=this;console.log("[INIT] List"),this.changeColumnsList(window.screen.width),this.inventory$=this.store.select("inventory").pipe(Object(u.a)(),Object(k.a)("pokemonFilter"),Object(f.a)(this.destroy$),Object(h.a)(function(n){return e.store.select("inventory").pipe(Object(k.a)("inventory"),Object(O.a)(function(e){return n?e.filter(function(e){if(e.pokemon_species.name.includes(n))return e}):e}))}),Object(f.a)(this.destroy$)),this.regionResponse$=this.store.select("regions").pipe(Object(v.a)(function(n){n.responseRegions||e.regionService.callRegionsList(null)}),Object(u.a)(),Object(k.a)("responseRegions"),Object(f.a)(this.destroy$)),this.regionSelected$=this.store.select("regions").pipe(Object(u.a)(),Object(k.a)("region"),Object(f.a)(this.destroy$)),this.regionSelected$.subscribe(function(n){n&&e.inventoryService.callPokemonList(n.url)})}},{key:"ngOnDestroy",value:function(){console.log("[DESTROY] List"),this.destroy$.next(!0),this.destroy$.complete()}}]),n}()).\u0275fac=function(e){return new(e||J)(y.Nb(P.h),y.Nb(x),y.Nb(S.a))},J.\u0275cmp=y.Hb({type:J,selectors:[["app-list"]],hostBindings:function(e,n){1&e&&y.bc("resize",function(e){return n.onResize(e)},!1,y.rc)},decls:5,vars:6,consts:[["fxLayout","column",1,"container"],["class","region-container","fxLayout","row wrap","fxLayoutAlign","center",4,"ngIf"],["rowHeight","200px",3,"cols",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center",1,"region-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"region","isSelected","click",4,"ngIf"],[3,"region","isSelected","click"],["rowHeight","200px",3,"cols"],[3,"pokemon"]],template:function(e,n){1&e&&(y.Tb(0,"div",0),y.yc(1,E,2,1,"div",1),y.gc(2,"async"),y.yc(3,H,2,3,"mat-grid-list",2),y.gc(4,"async"),y.Sb()),2&e&&(y.Cb(1),y.kc("ngIf",y.hc(2,2,n.regionResponse$)),y.Cb(2),y.kc("ngIf",y.hc(4,4,n.inventory$)))},directives:[j.b,l.l,j.a,l.k,L,z.a,z.c,A],pipes:[l.b],styles:[".container[_ngcontent-%COMP%]{padding:1rem 2rem;margin:auto}.container[_ngcontent-%COMP%]   .list-bottom-bar[_ngcontent-%COMP%]{padding:2rem 4rem}.region-container[_ngcontent-%COMP%]{overflow:auto;margin:auto}@media only screen and (max-width:768px){.region-container[_ngcontent-%COMP%]{max-width:600px}}@media only screen and (max-width:600px){.region-container[_ngcontent-%COMP%]{flex-flow:row!important;place-content:stretch!important}}"],data:{animation:[Object(m.n)("list",[Object(m.m)(":enter",[Object(m.h)("@items",Object(m.j)(100,Object(m.f)()))])]),Object(m.n)("items",[Object(m.m)(":enter",[Object(m.l)({transform:"scale(0.5)",opacity:0}),Object(m.e)("1s cubic-bezier(.8,-0.6,0.2,1.5)",Object(m.l)({transform:"scale(1)",opacity:1}))]),Object(m.m)(":leave",[Object(m.l)({transform:"scale(1)",opacity:1,height:"*"}),Object(m.e)("1s cubic-bezier(.8,-0.6,0.2,1.5)",Object(m.l)({transform:"scale(0.5)",opacity:0,height:"0px",margin:"0px"}))])])]}}),J),V=i("A5z7");function X(e,n){if(1&e&&(y.Tb(0,"mat-chip",14),y.Ac(1),y.Sb()),2&e){var t=n.$implicit;y.Cb(1),y.Bc(t.type.name)}}function Y(e,n){if(1&e&&(y.Tb(0,"div",1),y.Tb(1,"div",2),y.Tb(2,"div",3),y.Tb(3,"div",4),y.Tb(4,"div",5),y.Tb(5,"h1",6),y.Ac(6),y.Sb(),y.Tb(7,"span",7),y.Ac(8),y.Sb(),y.Sb(),y.Tb(9,"div",8),y.Tb(10,"mat-chip-list"),y.yc(11,X,2,1,"mat-chip",9),y.Sb(),y.Sb(),y.Tb(12,"div",10),y.Ob(13,"img",11),y.Sb(),y.Sb(),y.Sb(),y.Tb(14,"div",12),y.Tb(15,"p",13),y.Ac(16),y.gc(17,"json"),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&e){var t=n.ngIf;y.kc("className",t.types[0].type.name+"-type pokemon-detail"),y.Cb(6),y.Bc(t.name),y.Cb(2),y.Cc("#",t.order,""),y.Cb(3),y.kc("ngForOf",t.types),y.Cb(2),y.kc("src","https://img.pokemondb.net/artwork/"+t.name+".jpg",y.tc),y.Cb(3),y.Bc(y.hc(17,6,t))}}var K,U,q,G=[{path:"",component:B},{path:":id",component:(K=function(){function n(t){e(this,n),this.store=t}return t(n,[{key:"ngOnInit",value:function(){this.pokemon$=this.store.select("inventory").pipe(Object(k.a)("pokemon")),localStorage.getItem("pokemon")&&this.store.dispatch(C.b({pokemon:JSON.parse(localStorage.getItem("pokemon"))}))}}]),n}(),K.\u0275fac=function(e){return new(e||K)(y.Nb(P.h))},K.\u0275cmp=y.Hb({type:K,selectors:[["app-detail"]],decls:2,vars:3,consts:[[3,"className",4,"ngIf"],[3,"className"],[1,"pokemon-detail-container"],[1,"pokemon-detail-header"],[1,"aux-header"],[1,"pokemon-detail-subheader"],[1,"pokemon-detail-name"],[1,"pokemon-detail-order"],[1,"pokemon-detail-types"],["class","capitalize",4,"ngFor","ngForOf"],[1,"pokemon-detail-image"],["appLazyLoadImage","",1,"pokemon-image","mix-blend-mode-multiply",3,"src"],[1,"pokemon-detail-body"],[2,"white-space","pre","overflow","hidden"],[1,"capitalize"]],template:function(e,n){1&e&&(y.yc(0,Y,18,8,"div",0),y.gc(1,"async")),2&e&&y.kc("ngIf",y.hc(1,1,n.pokemon$))},directives:[l.l,V.b,l.k,V.a],pipes:[l.b,l.f],styles:[".pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]{position:relative}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]{padding:5%;color:#fff;box-shadow:0 10px 10px 0 rgba(0,0,0,.2);position:relative}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .mat-chip.mat-standard-chip[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.15);color:#fff}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .aux-header[_ngcontent-%COMP%]{max-width:600px;margin:auto}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-subheader[_ngcontent-%COMP%]{display:flex;flex-direction:row}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-subheader[_ngcontent-%COMP%]   .pokemon-detail-name[_ngcontent-%COMP%]{width:100%;text-transform:capitalize;font-size:xx-large}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-subheader[_ngcontent-%COMP%]   .pokemon-detail-order[_ngcontent-%COMP%]{font-size:xx-large}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-image[_ngcontent-%COMP%]{display:flex}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-image[_ngcontent-%COMP%]   .pokemon-image[_ngcontent-%COMP%]{margin:auto}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-sprites[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-sprites[_ngcontent-%COMP%]   .pokemon-detail-sprites-subcontainer[_ngcontent-%COMP%]{position:relative}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-sprites[_ngcontent-%COMP%]   .pokemon-detail-sprites-subcontainer[_ngcontent-%COMP%]   .pokemon-detail-sprites-front[_ngcontent-%COMP%]{position:absolute;z-index:3;min-width:200px;min-height:200px;transition:all .8s;-webkit-backface-visibility:hidden;backface-visibility:hidden}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-sprites[_ngcontent-%COMP%]   .pokemon-detail-sprites-subcontainer[_ngcontent-%COMP%]   .pokemon-detail-sprites-back[_ngcontent-%COMP%]{position:absolute;z-index:2;min-width:200px;min-height:200px;transform:rotateY(180deg);transition:all .8s;-webkit-backface-visibility:hidden;backface-visibility:hidden}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-sprites[_ngcontent-%COMP%]   .pokemon-detail-sprites-subcontainer[_ngcontent-%COMP%]:hover   .pokemon-detail-sprites-front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-header[_ngcontent-%COMP%]   .pokemon-detail-sprites[_ngcontent-%COMP%]   .pokemon-detail-sprites-subcontainer[_ngcontent-%COMP%]:hover   .pokemon-detail-sprites-back[_ngcontent-%COMP%]{transform:rotateY(0deg);z-index:3}.pokemon-detail[_ngcontent-%COMP%]   .pokemon-detail-container[_ngcontent-%COMP%]   .pokemon-detail-body[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;padding:2rem}"]}),K)}],W=((U=function n(){e(this,n)}).\u0275mod=y.Lb({type:U}),U.\u0275inj=y.Kb({factory:function(e){return new(e||U)},imports:[[d.d.forChild(G)],d.d]}),U),Q=i("vvyD"),Z=i("LTI8"),ee=i("YUcS"),ne=((q=function n(){e(this,n)}).\u0275mod=y.Lb({type:q}),q.\u0275inj=y.Kb({factory:function(e){return new(e||q)},imports:[[l.c,Q.a,Z.a,W,ee.a]]}),q)}}])}();