!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function t(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{mycG:function(e,o,i){"use strict";i.r(o),i.d(o,"InventoryModule",function(){return U});var r,c,a,s,g,l=i("ofXK"),u=i("tyNb"),p=i("wO+i"),d=i("/uUt"),f=i("fXoL"),m=i("l7P3"),b=i("IzEk"),h=i("vkgz"),v=i("v8Ou"),k=i("tk/3"),y=((c=function(){function e(t){n(this,e),this.http=t}return t(e,[{key:"getPokemonList",value:function(n){return this.http.get(n)}}]),e}()).\u0275fac=function(n){return new(n||c)(f.Xb(k.b))},c.\u0275prov=f.Jb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),w=((r=function(){function e(t,o){n(this,e),this.inventoryHttpService=t,this.store=o}return t(e,[{key:"callPokemonList",value:function(n){var e=this;this.inventoryHttpService.getPokemonList(n).pipe(Object(b.a)(1),Object(p.a)("pokemon_entries"),Object(h.a)(function(n){return e.store.dispatch(v.c({inventory:n}))})).subscribe(console.log)}}]),e}()).\u0275fac=function(n){return new(n||r)(f.Xb(y),f.Xb(m.h))},r.\u0275prov=f.Jb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),O=i("Y58K"),C=i("XiUz"),P=i("bTqV"),x=((a=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){this.region.name.split("-")[1]?(this.name=this.region.name.split("-")[1],"central"===this.region.name.split("-")[1]&&(this.name=this.region.name.split("-")[0])):this.name=this.region.name}}]),e}()).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=f.Hb({type:a,selectors:[["app-region-card"]],inputs:{region:"region",isSelected:"isSelected"},decls:5,vars:7,consts:[["mat-button","",1,"region-card"],[1,"region-container"],[1,"region-background"],[1,"region-name"]],template:function(n,e){1&n&&(f.Tb(0,"button",0),f.Tb(1,"div",1),f.Ob(2,"div",2),f.Sb(),f.Sb(),f.Tb(3,"p",3),f.zc(4),f.Sb()),2&n&&(f.Fb("mat-elevation-z4",e.isSelected),f.Cb(2),f.vc("background-image","url("+e.region.image+")"),f.Cb(1),f.Fb("region-selected",e.isSelected),f.Cb(1),f.Ac(e.name))},directives:[P.a],styles:[".region-card[_ngcontent-%COMP%]{height:7.5rem;width:7.5rem;margin:0 1em;border-radius:50%;padding:0;overflow:hidden;transition:.5s;border:inset #8b0000}.region-card[_ngcontent-%COMP%]   .region-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.region-card[_ngcontent-%COMP%]   .region-container[_ngcontent-%COMP%]   .region-background[_ngcontent-%COMP%]{height:100%;width:100%;background-position:50%;background-size:cover;background-origin:content-box;background-repeat:no-repeat}.region-name[_ngcontent-%COMP%]{text-transform:capitalize;color:grey;font-size:large;overflow:hidden;text-overflow:ellipsis;text-align:center}.region-selected[_ngcontent-%COMP%]{font-weight:600}@media only screen and (max-width:1024px){.region-card[_ngcontent-%COMP%]{width:5rem;height:5rem;padding:0}.region-name[_ngcontent-%COMP%]{font-size:80%!important}}@media only screen and (max-width:600px){.region-card[_ngcontent-%COMP%]{width:5rem;height:5rem;padding:0}}"]}),a),I=i("zkoq"),_=((g=function(){function e(t){n(this,e),this.el=t,this.srcAttr=null}return t(e,[{key:"ngAfterViewInit",value:function(){this.canLazyLoad()?this.lazyLoadImage():this.loadImage()}},{key:"canLazyLoad",value:function(){return window&&"IntersectionObserver"in window}},{key:"lazyLoadImage",value:function(){var n=this,e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(n.loadImage(),e.unobserve(n.el.nativeElement))})});e.observe(this.el.nativeElement)}},{key:"loadImage",value:function(){this.srcAttr=this.src}}]),e}()).\u0275fac=function(n){return new(n||g)(f.Nb(f.l))},g.\u0275dir=f.Ib({type:g,selectors:[["img","appLazyLoadImage",""]],hostVars:1,hostBindings:function(n,e){2&n&&f.Db("src",e.srcAttr,f.tc)},inputs:{src:"src"}}),g),S=((s=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(n){return new(n||s)},s.\u0275cmp=f.Hb({type:s,selectors:[["app-pokemon-card"]],inputs:{pokemon:"pokemon"},decls:5,vars:3,consts:[["mat-button","",1,"pokemon-card"],[1,"pokemon-container"],["appLazyLoadImage","",1,"pokemon-background",3,"src"],[1,"pokemon-name"]],template:function(n,e){1&n&&(f.Tb(0,"button",0),f.Tb(1,"div",1),f.Ob(2,"img",2),f.Tb(3,"p",3),f.zc(4),f.Sb(),f.Sb(),f.Sb()),2&n&&(f.Cb(2),f.kc("src","https://img.pokemondb.net/artwork/"+e.pokemon.pokemon_species.name+".jpg",f.tc),f.Cb(2),f.Cc("#",e.pokemon.entry_number," ",e.pokemon.pokemon_species.name,""))},directives:[P.a,_],styles:[".pokemon-card[_ngcontent-%COMP%]{width:10rem;height:200px;transition:transform .2s}.pokemon-card[_ngcontent-%COMP%]   .pokemon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.pokemon-card[_ngcontent-%COMP%]   .pokemon-container[_ngcontent-%COMP%]   .pokemon-background[_ngcontent-%COMP%]{height:100%;width:100%;max-height:150px;max-width:125px;-o-object-fit:contain;object-fit:contain}.pokemon-card[_ngcontent-%COMP%]   .pokemon-container[_ngcontent-%COMP%]   .pokemon-name[_ngcontent-%COMP%]{text-transform:capitalize;color:grey;font-size:large;overflow:hidden;text-overflow:ellipsis}.pokemon-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media only screen and (max-width:600px){.pokemon-card[_ngcontent-%COMP%]{width:auto;height:auto}.pokemon-card[_ngcontent-%COMP%]   .pokemon-name[_ngcontent-%COMP%]{font-size:100%!important}}"]}),s);function M(n,e){if(1&n){var t=f.Ub();f.Tb(0,"app-region-card",7),f.bc("click",function(){f.sc(t);var n=f.fc(2).$implicit;return f.fc(2).goRegion(n)}),f.Sb()}if(2&n){var o=f.fc().ngIf,i=f.fc().$implicit;f.kc("region",i)("isSelected",o.name===i.name)}}function L(n,e){if(1&n&&(f.Tb(0,"div"),f.yc(1,M,1,2,"app-region-card",6),f.Sb()),2&n){var t=f.fc().$implicit;f.Cb(1),f.kc("ngIf",t.image)}}function z(n,e){if(1&n&&(f.Tb(0,"div"),f.yc(1,L,2,1,"div",5),f.gc(2,"async"),f.Sb()),2&n){var t=f.fc(2);f.Cb(1),f.kc("ngIf",f.hc(2,1,t.regionSelected$))}}function T(n,e){if(1&n&&(f.Tb(0,"div",3),f.yc(1,z,3,3,"div",4),f.Sb()),2&n){var t=e.ngIf;f.Cb(1),f.kc("ngForOf",t.results)}}function j(n,e){if(1&n&&(f.Tb(0,"mat-grid-tile"),f.Ob(1,"app-pokemon-card",9),f.Sb()),2&n){var t=e.$implicit;f.Cb(1),f.kc("pokemon",t)}}function $(n,e){if(1&n&&(f.Tb(0,"mat-grid-list",8),f.yc(1,j,2,1,"mat-grid-tile",4),f.Sb()),2&n){var t=e.ngIf,o=f.fc();f.kc("cols",o.listColumns),f.Cb(1),f.kc("ngForOf",t)}}var R,H,A,F,N=[{path:"",component:(H=function(){function e(t,o,i){n(this,e),this.store=t,this.inventoryService=o,this.regionService=i}return t(e,[{key:"onResize",value:function(n){this.changeColumnsList(n.target.innerWidth)}},{key:"goRegion",value:function(n){this.regionService.selectRegion(n)}},{key:"changeColumnsList",value:function(n){this.listColumns=n<=600?1:n<=768?4:n<=1024?5:n<=1440?8:10}},{key:"ngOnInit",value:function(){var n=this;console.log("[INIT] List"),this.regionService.callRegionsList(null),this.inventory$=this.store.select("inventory").pipe(Object(p.a)("inventory")),this.regionResponse$=this.store.select("regions").pipe(Object(p.a)("responseRegions")),this.regionSelected$=this.store.select("regions").pipe(Object(p.a)("region"),Object(d.a)()),this.regionSelected$.subscribe(function(e){e&&n.inventoryService.callPokemonList(e.url)}),this.changeColumnsList(window.screen.width)}}]),e}(),H.\u0275fac=function(n){return new(n||H)(f.Nb(m.h),f.Nb(w),f.Nb(O.a))},H.\u0275cmp=f.Hb({type:H,selectors:[["app-list"]],hostBindings:function(n,e){1&n&&f.bc("resize",function(n){return e.onResize(n)},!1,f.rc)},decls:5,vars:6,consts:[["fxLayout","column",1,"container"],["class","region-container","fxLayout","row wrap","fxLayoutAlign","center",4,"ngIf"],["rowHeight","200px",3,"cols",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center",1,"region-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"region","isSelected","click",4,"ngIf"],[3,"region","isSelected","click"],["rowHeight","200px",3,"cols"],[3,"pokemon"]],template:function(n,e){1&n&&(f.Tb(0,"div",0),f.yc(1,T,2,1,"div",1),f.gc(2,"async"),f.yc(3,$,2,2,"mat-grid-list",2),f.gc(4,"async"),f.Sb()),2&n&&(f.Cb(1),f.kc("ngIf",f.hc(2,2,e.regionResponse$)),f.Cb(2),f.kc("ngIf",f.hc(4,4,e.inventory$)))},directives:[C.b,l.k,C.a,l.j,x,I.a,I.c,S],pipes:[l.b],styles:[".container[_ngcontent-%COMP%]{padding:1rem 2rem;margin:auto}.container[_ngcontent-%COMP%]   .list-bottom-bar[_ngcontent-%COMP%]{padding:2rem 4rem}.region-container[_ngcontent-%COMP%]{overflow:auto;margin:auto}@media only screen and (max-width:768px){.region-container[_ngcontent-%COMP%]{max-width:600px}}@media only screen and (max-width:600px){.region-container[_ngcontent-%COMP%]{flex-flow:row!important;place-content:stretch!important}}"]}),H),children:[{path:"",component:(R=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}(),R.\u0275fac=function(n){return new(n||R)},R.\u0275cmp=f.Hb({type:R,selectors:[["app-detail"]],decls:2,vars:0,template:function(n,e){1&n&&(f.Tb(0,"p"),f.zc(1,"detail works!"),f.Sb())},styles:[""]}),R)}]}],X=((A=function e(){n(this,e)}).\u0275mod=f.Lb({type:A}),A.\u0275inj=f.Kb({factory:function(n){return new(n||A)},imports:[[u.a.forChild(N)],u.a]}),A),E=i("vvyD"),J=i("LTI8"),K=i("YUcS"),U=((F=function e(){n(this,e)}).\u0275mod=f.Lb({type:F}),F.\u0275inj=f.Kb({factory:function(n){return new(n||F)},imports:[[l.c,E.a,J.a,X,K.a]]}),F)}}])}();